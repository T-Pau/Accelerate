.include "c64.s"

MMU = $d500
MMU_SHADOW = $ff00
MMU_CONFIGURATION = MMU_SHADOW
    MMU_CONFIGURATION_BANK(n) = (n & $3) << 6
    MMU_CONFIGURATION_HIGH(n) = (n & $3) << 4
        MMU_CONFIGURATION_SYSTEM_ROM = $00
        MMU_CONFIGURATION_INTERNAL_FUNCTION_ROM = $01
        MMU_CONFIGURATION_EXTERNAL_FUNCTION_ROM = $02
        MMU_CONFIGURATION_RAM = $03
    MMU_CONFIGURATION_MID(n) = (n & $3) << 2
    MMU_CONFIGURATION_LOW_RAM = $02
    MMU_CONFIGURATION_CHARGEN = 1
MMU_PRE_CONFIGURATION_A = MMU_SHADOW + $01
MMU_PRE_CONFIGURATION_B = MMU_SHADOW + $02
MMU_PRE_CONFIGURATION_C = MMU_SHADOW + $03
MMU_PRE_CONFIGURATION_D = MMU_SHADOW + $04
MMU_MODE_CONFIGURATION = MMU + $05
    MMU_MODE_CONFIGURATION_40_80 = $80
    MMU_MODE_CONFIGURATION_C64_MODE = $40
    MMU_MODE_CONFIGURATION_EXROM = $20
    MMU_MODE_CONFIGURATION_GAME = $10
    MMU_MODE_CONFIGURATION_FAST_SERIAL_INPUT = $08
    MMU_MODE_CONFIGURATION_Z80 = $01
MMU_RAM_CONFIGURATION = MMU + $06
    MMU_RAM_CONFIGURATION_VIDEO_BANK(n) = (n & $3) << 6
    MMU_RAM_CONFIGURATION_SHARED_HIGH = $80
    MMU_RAM_CONFIGURATION_SHARED_LOW = $40
    MMU_RAM_CONFIGURATION_SHARED_SIZE(n) = (n & $3)
        MMU_RAM_CONFIGURATION_SHARED_1K = MMU_RAM_CONFIGURATION_SHARED_SIZE(0)
        MMU_RAM_CONFIGURATION_SHARED_4K = MMU_RAM_CONFIGURATION_SHARED_SIZE(1)
        MMU_RAM_CONFIGURATION_SHARED_8K = MMU_RAM_CONFIGURATION_SHARED_SIZE(2)
        MMU_RAM_CONFIGURATION_SHARED_16K = MMU_RAM_CONFIGURATION_SHARED_SIZE(3)
MMU_PAGE_0 = MMU + $07
MMU_PAGE_1 = MMU + $09
MMU_VERSION = MMU + $0b
